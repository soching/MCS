@model IPagedList<Group_Task.Models.Supplier>
@using X.PagedList;
@using X.PagedList.Mvc.Core;
@using X.PagedList.Mvc.Core.Common;

@{
    ViewData["Title"] = "Index";
}

<div class="page-bar">
    <div class="page-breadcrumb">
        <a class="fw-bold font-dark text-dark " asp-controller="Home">Home</a> |
        <span>Suppliers</span>
    </div>
    <div class="page-toolbar">
        <i class="bi-calendar-day me-2"></i>
        <span class="thin text-uppercase hidden-xs">August 20, 2024 - September 18, 2024</span>
    </div>
</div>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm py-3">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Suppliers</a>
        <div class="d-flex">
            <button type="button" class="btn btn-light btn-sm mx-1" data-bs-toggle="modal" data-bs-target="#addNewModal">Add New</button>
            <button type="button" class="btn btn-light btn-sm mx-1">Download</button>
            <button type="button" class="btn btn-light btn-sm mx-1" data-bs-toggle="modal" data-bs-target="#upload">Upload</button>
        </div>
    </div>
</nav>

<!-- Modal Add New-->
<div class="modal fade" id="addNewModal" tabindex="-1" aria-labelledby="addNewModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header" style="background-color: dodgerblue;">
                <h5 class="modal-title" id="addNewModalLabel" style="color: white;">Add New Supplier</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <!-- Modal Body with Form -->
            <div class="modal-body">
                <form>
                    <!-- Supplier Name -->
                    <div class="row mb-3">
                        <label for="supplierName" class="col-sm-4 col-form-label">Supplier Name</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="supplierName" placeholder="Enter supplier name" required>
                        </div>
                    </div>

                    <!-- Cheque Name -->
                    <div class="row mb-3">
                        <label for="chequeName" class="col-sm-4 col-form-label">Cheque Name</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="chequeName" placeholder="Enter cheque name" required>
                        </div>
                    </div>

                    <!-- Telephone -->
                    <div class="row mb-3">
                        <label for="supplierTel" class="col-sm-4 col-form-label">Telephone</label>
                        <div class="col-sm-8">
                            <input type="tel" class="form-control" id="supplierTel" placeholder="Enter telephone number" required>
                        </div>
                    </div>

                    <!-- Email -->
                    <div class="row mb-3">
                        <label for="supplierEmail" class="col-sm-4 col-form-label">Email</label>
                        <div class="col-sm-8">
                            <input type="email" class="form-control" id="supplierEmail" placeholder="Enter email address" required>
                        </div>
                    </div>

                    <!-- Payment Terms -->
                    <div class="row mb-3">
                        <label for="termPayment" class="col-sm-4 col-form-label">Term Payment</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" id="termPayment" placeholder="Enter payment terms" required>
                        </div>
                    </div>

                    <!-- Status -->
                    <div class="row mb-3">
                        <label for="supplierStatus" class="col-sm-4 col-form-label">Status</label>
                        <div class="col-sm-8">
                            <select class="form-select" id="supplierStatus" required>
                                <option value="" selected disabled>Select status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                    </div>

                    <!-- Address (row-based style) -->
                    <div class="row mb-3">
                        <label for="supplierAddress" class="col-sm-4 col-form-label">Address</label>
                        <div class="col-sm-8">
                            <textarea class="form-control" id="supplierAddress" rows="3" placeholder="Enter address" required></textarea>
                        </div>
                    </div>

                    <!-- Submit Button and Cancel -->
                    <div class="d-flex justify-content-end">
                        <button type="button" class="btn btn-danger me-2" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>




<!-- Modal Upload -->
<div class="modal fade" id="upload" tabindex="-1" aria-labelledby="addNewModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header" style="background-color: dodgerblue;">
                <h5 class="modal-title" id="addNewModalLabel" style="color: white;">Upload Document</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <p>
                The first line in downloaded csv file should remain as it is. Please do not change the order of columns.
                The correct column order is () & you must follow this. Please make sure the csv file is UTF-8 encoded and not saved with byte order mark (BOM).
            </p>
            <!-- Modal Body with Form -->
            <div class="modal-body">
                <form>
                    <!-- Working Type -->
                    <div class="row mb-3">
                        <label for="supplierStatus" class="col-sm-4 col-form-label">Working Type</label>
                        <div class="col-sm-8">
                            <select class="form-select" id="supplierStatus" required>
                                <option value="" selected disabled>Select status</option>
                                <option value="active">Developer</option>
                                <option value="inactive">Net working</option>
                            </select>
                        </div>
                    </div>
                    <!-- Document Upload -->
                    <div class="row mb-3">
                        <label for="supplierDocument" class="col-sm-4 col-form-label">Upload Document</label>
                        <div class="col-sm-8">
                            <input type="file" class="form-control" id="supplierDocument" required>
                            <div class="form-text">Please upload a document related to the supplier.</div>
                        </div>
                    </div>

                    <!-- Submit Button and Cancel -->
                    <div class="d-flex justify-content-end">
                        <button type="button" class="btn btn-danger me-2" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save</button>
                        <button type="button" class="btn btn-success btn-sm mx-1">Download Example</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS & Dependencies -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>



<form method="get" asp-action="Index">
    <p>
        <a asp-action="Index" class="btn btn-primary mb-3">All Items</a>
        <input type="search"
               placeholder="Enter your name or chequename"
               value="@ViewData["Getemployeedetails"]"
               name="Empsearch"
               class="form-control form-control-sm"
               style="width: 250px; padding: 5px; font-size: 14px;" />
    </p>
</form>

<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>Names</th>
            <th>ChequeName</th>
            <th>Tel</th>
            <th>Email</th>
            <th>TermPayment</th>
            <th>Addresses</th>
            <th>Statuses</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@Html.DisplayFor(modelItem => item.Names)</td>
                <td>@Html.DisplayFor(modelItem => item.ChequeName)</td>
                <td>@Html.DisplayFor(modelItem => item.Tel)</td>
                <td>@Html.DisplayFor(modelItem => item.Email)</td>
                <td>@Html.DisplayFor(modelItem => item.Termpyment)</td>
                <td>@Html.DisplayFor(modelItem => item.Addresses)</td>
                <td>
                    @Html.DisplayFor(modelItem => item.Statuses)
                    <a asp-action="Index" class="btn btn-sm btn-warning">Active</a>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Actions)
                    <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                    <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
                </td>
            </tr>
        }
    </tbody>
</table>
@Html.PagedListPager(Model, page => Url.Action("index", "Suppliers",
                                new { page = page }),
                                new PagedListRenderOptions
                            {
                                LiElementClasses = new string[] { "page-item" },
                                PageClasses = new string[] { "page-link" }
                            })
